{"version":3,"file":"blocks/contact-form/view.js","mappings":";;;;;AAAAA,SAAS,GAAG;EACXC,OAAO,EAAE,sBAAsB;EAC/BC,SAAS,EAAE,kCAAkC;EAC7CC,UAAU,EAAE,mCAAmC;EAC/CC,YAAY,EAAE,qCAAqC;EACnDC,YAAY,EAAE;AACf,CAAC;AAED,MAAMC,WAAW,CAAC;EACjBC,WAAWA,CAACN,OAAO,EAAE;IACpB,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACO,IAAI,CAAC,CAAC;EACZ;EAEA,MAAMC,UAAUA,CAAA,EAAG;IAClB,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC3BD,IAAI,CAACE,MAAM,CAAC,QAAQ,EAAE,oBAAoB,CAAC;IAC3CF,IAAI,CAACE,MAAM,CAAC,OAAO,EAAE,cAAc,CAAC;IACpCF,IAAI,CAACE,MAAM,CACV,MAAM,EACL;AACJ;AACA;AACA,QAAQ,IAAI,CAACC,QAAQ,CAACX,SAAS,CAACY,KAAM;AACtC,QAAQ,IAAI,CAACD,QAAQ,CAACV,UAAU,CAACW,KAAM;AACvC,QAAQC,MAAM,CAACC,QAAQ,CAACC,IAAK;AAC7B;AACA;AACA,EAAE,IAAI,CAACJ,QAAQ,CAACT,YAAY,CAACU,KAAM;AACnC,GACE,CAAC;IAEDI,OAAO,CAACC,GAAG,CAACT,IAAI,CAACU,GAAG,CAAC,MAAM,CAAC,CAAC;IAE7B,MAAMC,WAAW,GAAG,MAAMC,KAAK,CAC9BP,MAAM,CAACC,QAAQ,CAACO,MAAM,GAAG,0BAA0B,EACnD;MACCC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEf;IACP,CACD,CAAC;IAED,IAAI,CAACT,OAAO,CAACyB,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;EAC3C;EAEAnB,IAAIA,CAAA,EAAG;IACN,IAAI,CAACK,QAAQ,GAAG;MACfX,SAAS,EAAE,IAAI,CAACD,OAAO,CAAC2B,aAAa,CAAC5B,SAAS,CAACE,SAAS,CAAC;MAC1DC,UAAU,EAAE,IAAI,CAACF,OAAO,CAAC2B,aAAa,CAAC5B,SAAS,CAACG,UAAU,CAAC;MAC5DC,YAAY,EAAE,IAAI,CAACH,OAAO,CAAC2B,aAAa,CAAC5B,SAAS,CAACI,YAAY,CAAC;MAChEC,YAAY,EAAE,IAAI,CAACJ,OAAO,CAAC2B,aAAa,CAAC5B,SAAS,CAACK,YAAY;IAChE,CAAC;IAED,IAAI,CAACQ,QAAQ,CAACR,YAAY,CAACwB,gBAAgB,CAAC,OAAO,EAAGC,KAAK,IAAK;MAC/DA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,IAAI,CAACtB,UAAU,CAAC,CAAC;IAClB,CAAC,CAAC;EACH;AACD;AAEAuB,QAAQ,CAACC,gBAAgB,CAACjC,SAAS,CAACC,OAAO,CAAC,CAACiC,OAAO,CAAEjC,OAAO,IAAK;EACjE,IAAIK,WAAW,CAACL,OAAO,CAAC;AACzB,CAAC,CAAC,C","sources":["webpack://hotel-list/./src/blocks/contact-form/view.js"],"sourcesContent":["selectors = {\n\telement: \".htl-js-contact-form\",\n\tinputName: \".htl-js-contact-form__input-name\",\n\tinputEmail: \".htl-js-contact-form__input-email\",\n\tinputMessage: \".htl-js-contact-form__input-message\",\n\tsubmitButton: \".htl-js-contact-form__submit\",\n};\n\nclass ContactForm {\n\tconstructor(element) {\n\t\tthis.element = element;\n\t\tthis.init();\n\t}\n\n\tasync submitForm() {\n\t\tconst data = new FormData();\n\t\tdata.append(\"action\", \"mail_before_submit\");\n\t\tdata.append(\"title\", \"Room Request\");\n\t\tdata.append(\n\t\t\t\"text\",\n\t\t\t`\nNew room request\n----------------\nName: ${this.elements.inputName.value}\nMail: ${this.elements.inputEmail.value}\nRoom: ${window.location.href}\n\nMessage:\n${this.elements.inputMessage.value}\n\t\t`,\n\t\t);\n\n\t\tconsole.log(data.get(\"text\"));\n\n\t\tconst rawResponse = await fetch(\n\t\t\twindow.location.origin + \"/wp-admin/admin-ajax.php\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: data,\n\t\t\t},\n\t\t);\n\n\t\tthis.element.classList.add(\"is-submitted\");\n\t}\n\n\tinit() {\n\t\tthis.elements = {\n\t\t\tinputName: this.element.querySelector(selectors.inputName),\n\t\t\tinputEmail: this.element.querySelector(selectors.inputEmail),\n\t\t\tinputMessage: this.element.querySelector(selectors.inputMessage),\n\t\t\tsubmitButton: this.element.querySelector(selectors.submitButton),\n\t\t};\n\n\t\tthis.elements.submitButton.addEventListener(\"click\", (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tthis.submitForm();\n\t\t});\n\t}\n}\n\ndocument.querySelectorAll(selectors.element).forEach((element) => {\n\tnew ContactForm(element);\n});\n"],"names":["selectors","element","inputName","inputEmail","inputMessage","submitButton","ContactForm","constructor","init","submitForm","data","FormData","append","elements","value","window","location","href","console","log","get","rawResponse","fetch","origin","method","body","classList","add","querySelector","addEventListener","event","preventDefault","document","querySelectorAll","forEach"],"sourceRoot":""}