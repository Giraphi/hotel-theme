(()=>{selectors={element:".htl-js-contact-form",inputName:".htl-js-contact-form__input-name",inputEmail:".htl-js-contact-form__input-email",inputMessage:".htl-js-contact-form__input-message",submitButton:".htl-js-contact-form__submit"};class e{constructor(e){this.element=e,this.init()}async submitForm(){const e=new FormData;e.append("action","mail_before_submit"),e.append("title","Room Request"),e.append("text",`\nNew room request\n----------------\nName: ${this.elements.inputName.value}\nE-Mail: ${this.elements.inputEmail.value}\nRoom: ${window.location.href}\n\nMessage:\n${this.elements.inputMessage.value}\n\t\t`),console.log("Trying to send and e-mail to admin mail adress with the following content:",e.get("text"),"NOTE: The mail can only be sent if the server is configured properly to make use of wp_mail()."),await fetch(window.location.origin+"/wp-admin/admin-ajax.php",{method:"POST",body:e}),this.element.classList.add("is-submitted")}init(){this.elements={inputName:this.element.querySelector(selectors.inputName),inputEmail:this.element.querySelector(selectors.inputEmail),inputMessage:this.element.querySelector(selectors.inputMessage),submitButton:this.element.querySelector(selectors.submitButton)},this.elements.submitButton.addEventListener("click",(e=>{e.preventDefault(),this.submitForm()}))}}document.querySelectorAll(selectors.element).forEach((t=>{new e(t)}))})();